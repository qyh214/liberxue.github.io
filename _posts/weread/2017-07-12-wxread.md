---

layout: post
weread: true
date:   2017-07-13 00:39:03
category: weread
title: 微信读书协议分析|和搜索查询数据接口
keywords: 微信读书,weread,微信读书搜索,微信读书接口,微信读书API
tags: 微信读书,weread,微信读书搜索,微信读书接口,微信读书API
excerpt: 本来想早点时间，微信读书非要做个手机版本不做pc晕死，找个真麻烦，睡不者分析下微信读书接口。

---
本来想今天早点写博客 好吧 过点 明天又要 修改下 GitHub https 也给小bug 显示我持续更新博客哈哈
 

抓包工具：Charles
 
抓包平台：Mac 10.12.6 Beta (16G24b)
 
协议如下：

```
curl -H 'Host: weread.qq.com' -H 'Origin: http://weread.qq.com' -H 'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.25 (KHTML, like Gecko) Mobile/15A5304i MicroMessenger/6.5.10 NetType/WIFI Language/zh_CN' -H 'Cookie: wr_avatar=http%3A%2F%2Fwx.qlogo.cn%2Fmmhead%2FrK1nsTlCD8GxAic87cBQBrQBghicm72fkbiaPCUEUwRb1yaQF8yM0eib6w%2F0; wr_logined=1; wr_name=Liberxue; wr_skey=ThoYMbm2; wr_vid=7413057; sd_cookie_crttime=1499317803091; sd_userid=41101499317803091; pgv_pvid=73599382; pgv_pvi=9667674112' -H 'Referer: http://weread.qq.com/wrpage/book/share/226099?ref=mp&code=071V44Na0KzfRt1yfQPa0kWNMa0V44NO&state=226099' -H 'Accept-Language: zh-cn' -H 'Accept: */*' --data "bookId=226099" --compressed 'http://weread.qq.com/wrpage/review/list'
```
```
curl -H 'Host: weread.qq.com' -H 'Cookie: wr_avatar=http%3A%2F%2Fwx.qlogo.cn%2Fmmhead%2FrK1nsTlCD8GxAic87cBQBrQBghicm72fkbiaPCUEUwRb1yaQF8yM0eib6w%2F0; wr_logined=1; wr_name=Liberxue; wr_skey=ThoYMbm2; wr_vid=7413057; sd_cookie_crttime=1499317803091; sd_userid=41101499317803091; pgv_pvid=73599382; pgv_pvi=9667674112' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Upgrade-Insecure-Requests: 1' -H 'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.25 (KHTML, like Gecko) Mobile/15A5304i MicroMessenger/6.5.10 NetType/WIFI Language/zh_CN' -H 'Accept-Language: zh-cn' --compressed 'http://weread.qq.com/wrpage/search?ref=mp&keyword=1987&code=051Sdj482Sv9lP0lDt7825lf482Sdj4P&state=665533'
```
```
curl -H 'Host: weread.qq.com' -H 'Cookie: wr_avatar=http%3A%2F%2Fwx.qlogo.cn%2Fmmhead%2FrK1nsTlCD8GxAic87cBQBrQBghicm72fkbiaPCUEUwRb1yaQF8yM0eib6w%2F0; wr_logined=1; wr_name=Liberxue; wr_skey=ThoYMbm2; wr_vid=7413057; sd_cookie_crttime=1499317803091; sd_userid=41101499317803091; pgv_pvid=73599382; pgv_pvi=9667674112' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Upgrade-Insecure-Requests: 1' -H 'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.25 (KHTML, like Gecko) Mobile/15A5304i MicroMessenger/6.5.10 NetType/WIFI Language/zh_CN' -H 'Accept-Language: zh-cn' --compressed 'http://weread.qq.com/wrpage/search?ref=mp&keyword=time&code=051Sdj482Sv9lP0lDt7825lf482Sdj4P&state=665533'
```



```
curl -H 'Host: weread.qq.com' -H 'Cookie: wr_avatar=http%3A%2F%2Fwx.qlogo.cn%2Fmmhead%2FrK1nsTlCD8GxAic87cBQBrQBghicm72fkbiaPCUEUwRb1yaQF8yM0eib6w%2F0; wr_logined=1; wr_name=Liberxue; wr_skey=ThoYMbm2; wr_vid=7413057; sd_cookie_crttime=1499317803091; sd_userid=41101499317803091; pgv_pvid=73599382; pgv_pvi=9667674112' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Upgrade-Insecure-Requests: 1' -H 'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.25 (KHTML, like Gecko) Mobile/15A5304i MicroMessenger/6.5.10 NetType/WIFI Language/zh_CN' -H 'Accept-Language: zh-cn' --compressed 'http://weread.qq.com/wrpage/search?ref=mp&keyword=毛姆'

```

微信读书iOS版本搜索协议：

```
curl -H 'Host: weread.qq.com' -H 'Cookie: wr_avatar=http%3A%2F%2Fwx.qlogo.cn%2Fmmhead%2FrK1nsTlCD8GxAic87cBQBrQBghicm72fkbiaPCUEUwRb1yaQF8yM0eib6w%2F0; wr_logined=1; wr_name=Liberxue; wr_skey=ThoYMbm2; wr_vid=7413057; sd_cookie_crttime=1499317803091; sd_userid=41101499317803091; pgv_pvid=73599382; pgv_pvi=9667674112' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Upgrade-Insecure-Requests: 1' -H 'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.25 (KHTML, like Gecko) Mobile/15A5304i MicroMessenger/6.5.10 NetType/WIFI Language/zh_CN' -H 'Accept-Language: zh-cn' --compressed 'http://weread.qq.com/wrpage/search?ref=mp&keyword=time&code=051Sdj482Sv9lP0lDt7825lf482Sdj4P&state=665533'

```
